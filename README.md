# Cricket Trading Battle ðŸðŸ“ˆ
### Powered by Gemini 3 ðŸ¤–

A real-time T20 cricket stock market game where you trade player stocks based on live match simulation.
**Built for the Gemini 3 Hackathon.**

**[View Source Code](https://github.com/rakeshvytla9/cricket-trading-battle)** | **[Live Demo](https://rakeshvytla9.github.io/cricket-trading-battle/)**

## ðŸš€ Gemini 3 Integration
This project integrates the **Gemini 3 API** to create an immersive, AI-driven cricket experience:

1.  **AI Commentary ðŸŽ™ï¸**: Live, contextual commentary generated by Gemini 2.0 Flash for every ball.
2.  **Trading AI Assistant ðŸ¤–**: A chat interface where you can ask Gemini for trading advice, player analysis, and match predictions.
3.  **Real-Time Reasoning ðŸ§ **: The AI understands cricket nuance (powerplay vs death overs, player matchups) to give strategic advice.

---

## ðŸŽ® Play Now
**[Live Demo Link (GitHub Pages)](https://rakeshvytla9.github.io/cricket-trading-battle/)**

## ðŸ› ï¸ Tech Stack
-   **Frontend**: Vanilla JS, HTML5, CSS3 (Glassmorphism)
-   **AI**: Google Gemini 3 API (via `gemini.js`)
-   **ML**: PyTorch (Deep MLP) for ball outcome probabilities
-   **Data**: Real IPL 2020-2024 ball-by-ball data

## ðŸš€ Deployment (Full Stack)

This project is configured for **Vercel** + **Supabase** (Free Tier).

### Step 1: Backend Setup (Supabase)
1.  Create a free account at [Supabase.com](https://supabase.com).
2.  Create a new Project.
3.  Go to **Table Editor** and create a table named `matches` with columns:
    -   `id` (uuid, primary key)
    -   `score` (text)
    -   `winner` (text)
    -   `user_profit` (int8)
    -   `cpu_profit` (int8)
    -   `created_at` (timestamp, default: now())
4.  Copy your `Project URL` and `Anon Key` from **Project Settings > API**.
5.  Open `supabase.js` and paste these values (or use Environment Variables).

### Step 2: Hosting & API (Vercel)
1.  Go to [Vercel.com](https://vercel.com) and sign up.
2.  Click **Add New Project** -> **Continue with GitHub**.
3.  Import your `cricket-trading-battle` repository.
4.  In Vercel **Environment Variables**, add:
    -   `GEMINI_API_KEY`: `AIzaSy...` (Get this from Google AI Studio)
5.  Deploy!

Your game will now have a secure backend API (`/api/chat`) and specific user match history.

### Legacy Deployment (GitHub Pages)
The static version is available at: [https://rakeshvytla9.github.io/cricket-trading-battle/](https://rakeshvytla9.github.io/cricket-trading-battle/)
*(Note: AI features may fail here due to secure API key requirement being moved to server)*

---

## Features

- **Real-time Match Simulation** - Ball-by-ball T20 cricket match
- **ML-Powered Outcomes** - Trained on 67,303 real IPL deliveries (2020-2024)
- **Stock Trading** - Buy/sell player stocks based on performance
- **Beat the CPU** - Compete against AI trader

## Quick Start

```bash
# Just open in browser
open index.html
```

## Project Structure

```
â”œâ”€â”€ index.html          # Main game page
â”œâ”€â”€ styles.css          # Styling
â”œâ”€â”€ game.js             # Game logic + GBM pricing
â”œâ”€â”€ ml_predictor.js     # ML prediction engine
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ player_stats.json    # 50 player statistics
â”‚   â”œâ”€â”€ matchup_table.json   # 2,297 bowler-batsman matchups
â”‚   â””â”€â”€ processed/           # Training CSVs
â”œâ”€â”€ ml/
â”‚   â”œâ”€â”€ ball_outcome_model.json  # Trained LightGBM model
â”‚   â””â”€â”€ train_advanced_models.py # Training script
â””â”€â”€ docs/               # Documentation & screenshots
```

## ML Model

Trained on IPL 2020-2024 data:
- **67,303 deliveries** processed
- **21 features** (phase, batsman SR, bowler economy, matchups, etc.)
- **Deep MLP** won with 41.44% accuracy (beats LightGBM 41.30%)

## License

MIT
